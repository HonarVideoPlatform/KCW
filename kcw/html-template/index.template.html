<!-- saved from url=(0014)about:internet -->
<html lang="en">

<!--
Smart developers always View Source.

This application was built using Adobe Flex, an open source framework
for building rich Internet applications that get delivered via the
Flash Player or to desktops via Adobe AIR.

Learn more about Flex at http:// flex.org
// -->

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<!--  BEGIN Browser History required section -->
<link rel="stylesheet" type="text/css" href="history/history.css" />
<!--  END Browser History required section -->

<title>${title}</title>
<script src="AC_OETags.js" language="javascript"></script>

<!--  BEGIN Browser History required section -->
<script src="history/history.js" language="javascript"></script>
<!--  END Browser History required section -->

<style>
body { margin: 0px; overflow:hidden }
</style>
<script language="JavaScript" type="text/javascript">
<!--
// -----------------------------------------------------------------------------
// Globals
// Major version of Flash required
var requiredMajorVersion = ${version_major};
// Minor version of Flash required
var requiredMinorVersion = ${version_minor};
// Minor version of Flash required
var requiredRevision = ${version_revision};
// -----------------------------------------------------------------------------

function wizardCloseCallback(modified)
{
	var modifiedText = modified ? "yes" : "no"
	//alert("Wizard is closing. modified = " + modified + " | is it a real boolean ? " + modifiedText);
	alert("Wizard is closing.");
}

function addentry(entries)
{
	console.log(entries);
	alert("One or more entries were added");
}

function onWizardReady() 
{
	// alert("Wizard is ready");
}
// -->
</script>
</head>

<body scroll="no" bgcolor="black">
<script language="JavaScript" type="text/javascript">
<!--

// user clicked "next" button on page
function next()
{
	console.log("next");
	var flashObj = document.getElementById("kcw");
	flashObj.goNextStep();

}

//user clicked "prev" button on page
function prev()
{
	console.log("prev");
	var flashObj = document.getElementById("kcw");
	flashObj.goPrevStep();

}

function nextButtonChanged(label, isEnabled, visible)
{
	console.log("nextButtonChanged", label, isEnabled, visible);
	var nextButton = document.getElementById("nextButton");
	setButtonMode(nextButton, isEnabled, label)
}

function prevButtonChanged(label, isEnabled, visible)
{
	var prevButton = document.getElementById("prevButton");
	setButtonMode(prevButton, isEnabled, label)
}

function setButtonMode(buttonObj, isEnabled, label)
{
	console.log(isEnabled, isEnabled)
	buttonObj.disabled = !isEnabled;
	buttonObj.value = label;
}

function kcwPendingChangeHandler(pending)
{
    document.getElementById("nextButton").disabled = pending ?
    	true :
    	false;
    document.getElementById("prevButton").disabled = pending ?
	    true :
	    false;
}

// set new value to partner data according to input text (on page) value 
function changePData()
{
	var pData = document.getElementById("partnerData").value;
	var flashObj = document.getElementById("kcw");
	flashObj.setPartnerData(pData);
}

// Version check for the Flash Player that has the ability to start Player
// Product Install (6.0r65)
var hasProductInstall = DetectFlashVer(6, 0, 65);

// Version check based upon the values defined in globals
var hasRequestedVersion = DetectFlashVer(requiredMajorVersion, requiredMinorVersion, requiredRevision);

if ( hasProductInstall && !hasRequestedVersion ) {
	// DO NOT MODIFY THE FOLLOWING FOUR LINES
	// Location visited after installation is complete if installation is
	// required
	var MMPlayerType = (isIE == true) ? "ActiveX" : "PlugIn";
	var MMredirectURL = window.location;
    document.title = document.title.slice(0, 47) + " - Flash Player Installation";
    var MMdoctitle = document.title;

	AC_FL_RunContent(
		"src", "playerProductInstall",
		"FlashVars", "MMredirectURL="+MMredirectURL+'&MMplayerType='+MMPlayerType+'&MMdoctitle='+MMdoctitle+"",
		"width", "${width}",
		"height", "${height}",
		"align", "middle",
		"id", "${application}",
		"quality", "high",
		"bgcolor", "${bgcolor}",
		"name", "${application}",
		"allowScriptAccess","always",
		"type", "application/x-shockwave-flash",
		"pluginspage", "http://www.adobe.com/go/getflashplayer"
	);
} else if (hasRequestedVersion) {
	// if we've detected an acceptable version
	// embed the Flash Content SWF when all tests are passed
	AC_FL_RunContent(
			"src", "${swf}",
			"width", "720", 
			"height", "420",
			"align", "middle",
			"id", "kcw",
			"quality", "high",
			"flashvars",
						// 'defaultMediaType=video' + // default media type screen to show at startup (image/video/audio)
						// '&defaultMediaProviderName=2' + // default selected media provider, e.g "kaltura"
			
			
//						Production
// ======================================================			
						'&host=www.kaltura.com' +
						// '&cdnHost=kaltura.com' +
						'&partnerId=' +
						'&ks=' + 
						'&uiConfId=' + 
						
						'&fileSystemMode=true'+
						'&localStyle=./../../kcwStyleProject/bin-debug/css/styles.swf' + 
						
						'&isAnonymous=false' +	// "term of use" show different texts for anonymous/known users.
						// '&protocol=http' + // http / https
						
						//'&additionalField=METADATA_TITLE' +		// allows adding data to
																// metadata fields (?)
						// '&terms_of_use=index.php/terms' + // link to "terms of use" page
						//'&categoriesRootId=xxx' +	// only show categories under this category
						//'&enforceCategory=xx>xx' +	// initially select this category in the dropdown
						
						
						// callbacks:
						'&afterAddentry=addentry'+
						'&close=wizardCloseCallback' +
						'&wizardReadyHandler=onWizardReady' +
						
						'&quick_edit=1' + // if false, entries are automatically added to the roughcut end,
										  // otherwise, entries will not be automatically added to the roughcut
						// '&uploadUrl=http://www.kaltura.com/index.php/partnerservices2/upload' + // the url to which files will be uploaded, 
																								   // deafults to Kaltura's API v3 service
						// '&showCloseButton=true'+	// show "close" butto on the main view
						// '&partnerData=partnerDataData' +
						'&permissions=public' + // permissions==privacy
						'&credits_screen_name=1001' +
						'&credits_site_url=1001' +
						'&permission=5' +
						'&groupId=kaltura' +	// groupId to set to created entry
						'&screenName=Almog' +
						'&siteUrl=' +
						'&load_thumbnail_with_ks=false' +
						// '&limitations.upload.singleFileSize.min=-1' +
						// '&limitations.upload.singleFileSize.max=-1' +
						// '&limitations.upload.totalFileSize.min=14000000' +
						// '&limitations.upload.totalFileSize.max=-1' +
						// '&limitations.upload.numFiles.min=-1' +
						// '&limitations.upload.numFiles.max=-1' +
						// '&limitations.search.numFiles.min=-1' +
						// '&limitations.search.numFiles.max=-1' +
						''
						,

			"wmode", "opaque",
			"bgcolor", "${bgcolor}",
			"name", "${application}",
			"allowScriptAccess","always",
			"type", "application/x-shockwave-flash",
			"pluginspage", "http://www.adobe.com/go/getflashplayer"
	);
  } else {  // flash is too old or we can't detect the plugin
    var alternateContent = 'Alternate HTML content should be placed here. '
  	+ 'This content requires the Adobe Flash Player. '
   	+ '<a href=http://www.adobe.com/go/getflash/>Get Flash</a>';
    document.write(alternateContent);  // insert non-flash content
  }
// -->
</script>
<noscript>
  	<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
			id="${application}" width="${width}" height="${height}"
			codebase="http://fpdownload.macromedia.com/get/flashplayer/current/swflash.cab">
			<param name="movie" value="${swf}.swf" />
			<param name="quality" value="high" />
			<param name="bgcolor" value="${bgcolor}" />
			<param name="allowScriptAccess" value="always" />
			<embed src="${swf}.swf" quality="high" bgcolor="${bgcolor}"
				width="${width}" height="${height}" name="${application}" align="middle"
				play="true"
				loop="false"
				quality="high"
				allowScriptAccess="always"
				type="application/x-shockwave-flash"
				pluginspage="http://www.adobe.com/go/getflashplayer">
			</embed>
	</object>
</noscript>

<form>
	<input id="prevButton" type="button" value="Prev" onClick="prev()">
	<input id="nextButton" type="button" value="Next" onClick="next()">
</form>

<form>
	<input id="partnerData" />
	<input id="nextButton" type="button" value="set partner data" onClick="changePData()">
</form>

</body>
</html>
